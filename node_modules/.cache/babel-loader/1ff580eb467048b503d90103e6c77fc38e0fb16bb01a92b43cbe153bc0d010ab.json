{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { resolveDirective as _resolveDirective, createVNode as _createVNode } from \"vue\";\nimport { useRafState } from '../hooks/useRaf';\nimport TabNode from './TabNode';\nimport useOffsets from '../hooks/useOffsets';\nimport OperationNode from './OperationNode';\nimport { useInjectTabs } from '../TabContext';\nimport useTouchMove from '../hooks/useTouchMove';\nimport AddButton from './AddButton';\nimport { objectType, functionType } from '../../../_util/type';\nimport { shallowRef, onBeforeUnmount, defineComponent, watch, watchEffect, computed } from 'vue';\nimport PropTypes from '../../../_util/vue-types';\nimport useSyncState from '../hooks/useSyncState';\nimport useState from '../../../_util/hooks/useState';\nimport raf from '../../../_util/raf';\nimport classNames from '../../../_util/classNames';\nimport ResizeObserver from '../../../vc-resize-observer';\nimport { toPx } from '../../../_util/util';\nimport useRefs from '../../../_util/hooks/useRefs';\nimport pick from 'lodash-es/pick';\nconst DEFAULT_SIZE = {\n  width: 0,\n  height: 0,\n  left: 0,\n  top: 0,\n  right: 0\n};\nexport const tabNavListProps = () => {\n  return {\n    id: {\n      type: String\n    },\n    tabPosition: {\n      type: String\n    },\n    activeKey: {\n      type: [String, Number]\n    },\n    rtl: {\n      type: Boolean\n    },\n    animated: objectType(),\n    editable: objectType(),\n    moreIcon: PropTypes.any,\n    moreTransitionName: {\n      type: String\n    },\n    mobile: {\n      type: Boolean\n    },\n    tabBarGutter: {\n      type: Number\n    },\n    renderTabBar: {\n      type: Function\n    },\n    locale: objectType(),\n    popupClassName: String,\n    getPopupContainer: functionType(),\n    onTabClick: {\n      type: Function\n    },\n    onTabScroll: {\n      type: Function\n    }\n  };\n};\nconst getTabSize = (tab, containerRect) => {\n  // tabListRef\n  const {\n    offsetWidth,\n    offsetHeight,\n    offsetTop,\n    offsetLeft\n  } = tab;\n  const {\n    width,\n    height,\n    x,\n    y\n  } = tab.getBoundingClientRect();\n  // Use getBoundingClientRect to avoid decimal inaccuracy\n  if (Math.abs(width - offsetWidth) < 1) {\n    return [width, height, x - containerRect.x, y - containerRect.y];\n  }\n  return [offsetWidth, offsetHeight, offsetLeft, offsetTop];\n};\n// const getSize = (refObj: ShallowRef<HTMLElement>) => {\n//   const { offsetWidth = 0, offsetHeight = 0 } = refObj.value || {};\n//   // Use getBoundingClientRect to avoid decimal inaccuracy\n//   if (refObj.value) {\n//     const { width, height } = refObj.value.getBoundingClientRect();\n//     if (Math.abs(width - offsetWidth) < 1) {\n//       return [width, height];\n//     }\n//   }\n//   return [offsetWidth, offsetHeight];\n// };\nexport default defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'TabNavList',\n  inheritAttrs: false,\n  props: tabNavListProps(),\n  slots: Object,\n  emits: ['tabClick', 'tabScroll'],\n  setup(props, _ref) {\n    let {\n      attrs,\n      slots\n    } = _ref;\n    const {\n      tabs,\n      prefixCls\n    } = useInjectTabs();\n    const tabsWrapperRef = shallowRef();\n    const tabListRef = shallowRef();\n    const operationsRef = shallowRef();\n    const innerAddButtonRef = shallowRef();\n    const [setRef, btnRefs] = useRefs();\n    const tabPositionTopOrBottom = computed(() => props.tabPosition === 'top' || props.tabPosition === 'bottom');\n    const [transformLeft, setTransformLeft] = useSyncState(0, (next, prev) => {\n      if (tabPositionTopOrBottom.value && props.onTabScroll) {\n        props.onTabScroll({\n          direction: next > prev ? 'left' : 'right'\n        });\n      }\n    });\n    const [transformTop, setTransformTop] = useSyncState(0, (next, prev) => {\n      if (!tabPositionTopOrBottom.value && props.onTabScroll) {\n        props.onTabScroll({\n          direction: next > prev ? 'top' : 'bottom'\n        });\n      }\n    });\n    const [wrapperScrollWidth, setWrapperScrollWidth] = useState(0);\n    const [wrapperScrollHeight, setWrapperScrollHeight] = useState(0);\n    const [wrapperWidth, setWrapperWidth] = useState(null);\n    const [wrapperHeight, setWrapperHeight] = useState(null);\n    const [addWidth, setAddWidth] = useState(0);\n    const [addHeight, setAddHeight] = useState(0);\n    const [tabSizes, setTabSizes] = useRafState(new Map());\n    const tabOffsets = useOffsets(tabs, tabSizes);\n    // ========================== Util =========================\n    const operationsHiddenClassName = computed(() => `${prefixCls.value}-nav-operations-hidden`);\n    const transformMin = shallowRef(0);\n    const transformMax = shallowRef(0);\n    watchEffect(() => {\n      if (!tabPositionTopOrBottom.value) {\n        transformMin.value = Math.min(0, wrapperHeight.value - wrapperScrollHeight.value);\n        transformMax.value = 0;\n      } else if (props.rtl) {\n        transformMin.value = 0;\n        transformMax.value = Math.max(0, wrapperScrollWidth.value - wrapperWidth.value);\n      } else {\n        transformMin.value = Math.min(0, wrapperWidth.value - wrapperScrollWidth.value);\n        transformMax.value = 0;\n      }\n    });\n    const alignInRange = value => {\n      if (value < transformMin.value) {\n        return transformMin.value;\n      }\n      if (value > transformMax.value) {\n        return transformMax.value;\n      }\n      return value;\n    };\n    // ========================= Mobile ========================\n    const touchMovingRef = shallowRef();\n    const [lockAnimation, setLockAnimation] = useState();\n    const doLockAnimation = () => {\n      setLockAnimation(Date.now());\n    };\n    const clearTouchMoving = () => {\n      clearTimeout(touchMovingRef.value);\n    };\n    const doMove = (setState, offset) => {\n      setState(value => {\n        const newValue = alignInRange(value + offset);\n        return newValue;\n      });\n    };\n    useTouchMove(tabsWrapperRef, (offsetX, offsetY) => {\n      if (tabPositionTopOrBottom.value) {\n        // Skip scroll if place is enough\n        if (wrapperWidth.value >= wrapperScrollWidth.value) {\n          return false;\n        }\n        doMove(setTransformLeft, offsetX);\n      } else {\n        if (wrapperHeight.value >= wrapperScrollHeight.value) {\n          return false;\n        }\n        doMove(setTransformTop, offsetY);\n      }\n      clearTouchMoving();\n      doLockAnimation();\n      return true;\n    });\n    watch(lockAnimation, () => {\n      clearTouchMoving();\n      if (lockAnimation.value) {\n        touchMovingRef.value = setTimeout(() => {\n          setLockAnimation(0);\n        }, 100);\n      }\n    });\n    // ========================= Scroll ========================\n    const scrollToTab = function () {\n      let key = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : props.activeKey;\n      const tabOffset = tabOffsets.value.get(key) || {\n        width: 0,\n        height: 0,\n        left: 0,\n        right: 0,\n        top: 0\n      };\n      if (tabPositionTopOrBottom.value) {\n        // ============ Align with top & bottom ============\n        let newTransform = transformLeft.value;\n        // RTL\n        if (props.rtl) {\n          if (tabOffset.right < transformLeft.value) {\n            newTransform = tabOffset.right;\n          } else if (tabOffset.right + tabOffset.width > transformLeft.value + wrapperWidth.value) {\n            newTransform = tabOffset.right + tabOffset.width - wrapperWidth.value;\n          }\n        }\n        // LTR\n        else if (tabOffset.left < -transformLeft.value) {\n          newTransform = -tabOffset.left;\n        } else if (tabOffset.left + tabOffset.width > -transformLeft.value + wrapperWidth.value) {\n          newTransform = -(tabOffset.left + tabOffset.width - wrapperWidth.value);\n        }\n        setTransformTop(0);\n        setTransformLeft(alignInRange(newTransform));\n      } else {\n        // ============ Align with left & right ============\n        let newTransform = transformTop.value;\n        if (tabOffset.top < -transformTop.value) {\n          newTransform = -tabOffset.top;\n        } else if (tabOffset.top + tabOffset.height > -transformTop.value + wrapperHeight.value) {\n          newTransform = -(tabOffset.top + tabOffset.height - wrapperHeight.value);\n        }\n        setTransformLeft(0);\n        setTransformTop(alignInRange(newTransform));\n      }\n    };\n    const visibleStart = shallowRef(0);\n    const visibleEnd = shallowRef(0);\n    watchEffect(() => {\n      let unit;\n      let position;\n      let transformSize;\n      let basicSize;\n      let tabContentSize;\n      let addSize;\n      const tabOffsetsValue = tabOffsets.value;\n      if (['top', 'bottom'].includes(props.tabPosition)) {\n        unit = 'width';\n        basicSize = wrapperWidth.value;\n        tabContentSize = wrapperScrollWidth.value;\n        addSize = addWidth.value;\n        position = props.rtl ? 'right' : 'left';\n        transformSize = Math.abs(transformLeft.value);\n      } else {\n        unit = 'height';\n        basicSize = wrapperHeight.value;\n        tabContentSize = wrapperScrollWidth.value;\n        addSize = addHeight.value;\n        position = 'top';\n        transformSize = -transformTop.value;\n      }\n      let mergedBasicSize = basicSize;\n      if (tabContentSize + addSize > basicSize && tabContentSize < basicSize) {\n        mergedBasicSize = basicSize - addSize;\n      }\n      const tabsVal = tabs.value;\n      if (!tabsVal.length) {\n        return [visibleStart.value, visibleEnd.value] = [0, 0];\n      }\n      const len = tabsVal.length;\n      let endIndex = len;\n      for (let i = 0; i < len; i += 1) {\n        const offset = tabOffsetsValue.get(tabsVal[i].key) || DEFAULT_SIZE;\n        if (offset[position] + offset[unit] > transformSize + mergedBasicSize) {\n          endIndex = i - 1;\n          break;\n        }\n      }\n      let startIndex = 0;\n      for (let i = len - 1; i >= 0; i -= 1) {\n        const offset = tabOffsetsValue.get(tabsVal[i].key) || DEFAULT_SIZE;\n        if (offset[position] < transformSize) {\n          startIndex = i + 1;\n          break;\n        }\n      }\n      return [visibleStart.value, visibleEnd.value] = [startIndex, endIndex];\n    });\n    const updateTabSizes = () => {\n      setTabSizes(() => {\n        var _a;\n        const newSizes = new Map();\n        const listRect = (_a = tabListRef.value) === null || _a === void 0 ? void 0 : _a.getBoundingClientRect();\n        tabs.value.forEach(_ref2 => {\n          let {\n            key\n          } = _ref2;\n          const btnRef = btnRefs.value.get(key);\n          const btnNode = (btnRef === null || btnRef === void 0 ? void 0 : btnRef.$el) || btnRef;\n          if (btnNode) {\n            const [width, height, left, top] = getTabSize(btnNode, listRect);\n            newSizes.set(key, {\n              width,\n              height,\n              left,\n              top\n            });\n          }\n        });\n        return newSizes;\n      });\n    };\n    watch(() => tabs.value.map(tab => tab.key).join('%%'), () => {\n      updateTabSizes();\n    }, {\n      flush: 'post'\n    });\n    const onListHolderResize = () => {\n      var _a, _b, _c, _d, _e;\n      // Update wrapper records\n      const offsetWidth = ((_a = tabsWrapperRef.value) === null || _a === void 0 ? void 0 : _a.offsetWidth) || 0;\n      const offsetHeight = ((_b = tabsWrapperRef.value) === null || _b === void 0 ? void 0 : _b.offsetHeight) || 0;\n      const addDom = ((_c = innerAddButtonRef.value) === null || _c === void 0 ? void 0 : _c.$el) || {};\n      const newAddWidth = addDom.offsetWidth || 0;\n      const newAddHeight = addDom.offsetHeight || 0;\n      setWrapperWidth(offsetWidth);\n      setWrapperHeight(offsetHeight);\n      setAddWidth(newAddWidth);\n      setAddHeight(newAddHeight);\n      const newWrapperScrollWidth = (((_d = tabListRef.value) === null || _d === void 0 ? void 0 : _d.offsetWidth) || 0) - newAddWidth;\n      const newWrapperScrollHeight = (((_e = tabListRef.value) === null || _e === void 0 ? void 0 : _e.offsetHeight) || 0) - newAddHeight;\n      setWrapperScrollWidth(newWrapperScrollWidth);\n      setWrapperScrollHeight(newWrapperScrollHeight);\n      // Update buttons records\n      updateTabSizes();\n    };\n    // ======================== Dropdown =======================\n    const hiddenTabs = computed(() => [...tabs.value.slice(0, visibleStart.value), ...tabs.value.slice(visibleEnd.value + 1)]);\n    // =================== Link & Operations ===================\n    const [inkStyle, setInkStyle] = useState();\n    const activeTabOffset = computed(() => tabOffsets.value.get(props.activeKey));\n    // Delay set ink style to avoid remove tab blink\n    const inkBarRafRef = shallowRef();\n    const cleanInkBarRaf = () => {\n      raf.cancel(inkBarRafRef.value);\n    };\n    watch([activeTabOffset, tabPositionTopOrBottom, () => props.rtl], () => {\n      const newInkStyle = {};\n      if (activeTabOffset.value) {\n        if (tabPositionTopOrBottom.value) {\n          if (props.rtl) {\n            newInkStyle.right = toPx(activeTabOffset.value.right);\n          } else {\n            newInkStyle.left = toPx(activeTabOffset.value.left);\n          }\n          newInkStyle.width = toPx(activeTabOffset.value.width);\n        } else {\n          newInkStyle.top = toPx(activeTabOffset.value.top);\n          newInkStyle.height = toPx(activeTabOffset.value.height);\n        }\n      }\n      cleanInkBarRaf();\n      inkBarRafRef.value = raf(() => {\n        setInkStyle(newInkStyle);\n      });\n    });\n    watch([() => props.activeKey, activeTabOffset, tabOffsets, tabPositionTopOrBottom], () => {\n      scrollToTab();\n    }, {\n      flush: 'post'\n    });\n    watch([() => props.rtl, () => props.tabBarGutter, () => props.activeKey, () => tabs.value], () => {\n      onListHolderResize();\n    }, {\n      flush: 'post'\n    });\n    const ExtraContent = _ref3 => {\n      let {\n        position,\n        prefixCls,\n        extra\n      } = _ref3;\n      if (!extra) return null;\n      const content = extra === null || extra === void 0 ? void 0 : extra({\n        position\n      });\n      return content ? _createVNode(\"div\", {\n        \"class\": `${prefixCls}-extra-content`\n      }, [content]) : null;\n    };\n    onBeforeUnmount(() => {\n      clearTouchMoving();\n      cleanInkBarRaf();\n    });\n    return () => {\n      const {\n        id,\n        animated,\n        activeKey,\n        rtl,\n        editable,\n        locale,\n        tabPosition,\n        tabBarGutter,\n        onTabClick\n      } = props;\n      const {\n        class: className,\n        style\n      } = attrs;\n      const pre = prefixCls.value;\n      // ========================= Render ========================\n      const hasDropdown = !!hiddenTabs.value.length;\n      const wrapPrefix = `${pre}-nav-wrap`;\n      let pingLeft;\n      let pingRight;\n      let pingTop;\n      let pingBottom;\n      if (tabPositionTopOrBottom.value) {\n        if (rtl) {\n          pingRight = transformLeft.value > 0;\n          pingLeft = transformLeft.value + wrapperWidth.value < wrapperScrollWidth.value;\n        } else {\n          pingLeft = transformLeft.value < 0;\n          pingRight = -transformLeft.value + wrapperWidth.value < wrapperScrollWidth.value;\n        }\n      } else {\n        pingTop = transformTop.value < 0;\n        pingBottom = -transformTop.value + wrapperHeight.value < wrapperScrollHeight.value;\n      }\n      const tabNodeStyle = {};\n      if (tabPosition === 'top' || tabPosition === 'bottom') {\n        tabNodeStyle[rtl ? 'marginRight' : 'marginLeft'] = typeof tabBarGutter === 'number' ? `${tabBarGutter}px` : tabBarGutter;\n      } else {\n        tabNodeStyle.marginTop = typeof tabBarGutter === 'number' ? `${tabBarGutter}px` : tabBarGutter;\n      }\n      const tabNodes = tabs.value.map((tab, i) => {\n        const {\n          key\n        } = tab;\n        return _createVNode(TabNode, {\n          \"id\": id,\n          \"prefixCls\": pre,\n          \"key\": key,\n          \"tab\": tab,\n          \"style\": i === 0 ? undefined : tabNodeStyle,\n          \"closable\": tab.closable,\n          \"editable\": editable,\n          \"active\": key === activeKey,\n          \"removeAriaLabel\": locale === null || locale === void 0 ? void 0 : locale.removeAriaLabel,\n          \"ref\": setRef(key),\n          \"onClick\": e => {\n            onTabClick(key, e);\n          },\n          \"onFocus\": () => {\n            scrollToTab(key);\n            doLockAnimation();\n            if (!tabsWrapperRef.value) {\n              return;\n            }\n            // Focus element will make scrollLeft change which we should reset back\n            if (!rtl) {\n              tabsWrapperRef.value.scrollLeft = 0;\n            }\n            tabsWrapperRef.value.scrollTop = 0;\n          }\n        }, slots);\n      });\n      return _createVNode(\"div\", {\n        \"role\": \"tablist\",\n        \"class\": classNames(`${pre}-nav`, className),\n        \"style\": style,\n        \"onKeydown\": () => {\n          // No need animation when use keyboard\n          doLockAnimation();\n        }\n      }, [_createVNode(ExtraContent, {\n        \"position\": \"left\",\n        \"prefixCls\": pre,\n        \"extra\": slots.leftExtra\n      }, null), _createVNode(ResizeObserver, {\n        \"onResize\": onListHolderResize\n      }, {\n        default: () => [_createVNode(\"div\", {\n          \"class\": classNames(wrapPrefix, {\n            [`${wrapPrefix}-ping-left`]: pingLeft,\n            [`${wrapPrefix}-ping-right`]: pingRight,\n            [`${wrapPrefix}-ping-top`]: pingTop,\n            [`${wrapPrefix}-ping-bottom`]: pingBottom\n          }),\n          \"ref\": tabsWrapperRef\n        }, [_createVNode(ResizeObserver, {\n          \"onResize\": onListHolderResize\n        }, {\n          default: () => [_createVNode(\"div\", {\n            \"ref\": tabListRef,\n            \"class\": `${pre}-nav-list`,\n            \"style\": {\n              transform: `translate(${transformLeft.value}px, ${transformTop.value}px)`,\n              transition: lockAnimation.value ? 'none' : undefined\n            }\n          }, [tabNodes, _createVNode(AddButton, {\n            \"ref\": innerAddButtonRef,\n            \"prefixCls\": pre,\n            \"locale\": locale,\n            \"editable\": editable,\n            \"style\": _extends(_extends({}, tabNodes.length === 0 ? undefined : tabNodeStyle), {\n              visibility: hasDropdown ? 'hidden' : null\n            })\n          }, null), _createVNode(\"div\", {\n            \"class\": classNames(`${pre}-ink-bar`, {\n              [`${pre}-ink-bar-animated`]: animated.inkBar\n            }),\n            \"style\": inkStyle.value\n          }, null)])]\n        })])]\n      }), _createVNode(OperationNode, _objectSpread(_objectSpread({}, props), {}, {\n        \"removeAriaLabel\": locale === null || locale === void 0 ? void 0 : locale.removeAriaLabel,\n        \"ref\": operationsRef,\n        \"prefixCls\": pre,\n        \"tabs\": hiddenTabs.value,\n        \"class\": !hasDropdown && operationsHiddenClassName.value\n      }), pick(slots, ['moreIcon'])), _createVNode(ExtraContent, {\n        \"position\": \"right\",\n        \"prefixCls\": pre,\n        \"extra\": slots.rightExtra\n      }, null), _createVNode(ExtraContent, {\n        \"position\": \"right\",\n        \"prefixCls\": pre,\n        \"extra\": slots.tabBarExtraContent\n      }, null)]);\n    };\n  }\n});","map":{"version":3,"names":["_objectSpread","_extends","resolveDirective","_resolveDirective","createVNode","_createVNode","useRafState","TabNode","useOffsets","OperationNode","useInjectTabs","useTouchMove","AddButton","objectType","functionType","shallowRef","onBeforeUnmount","defineComponent","watch","watchEffect","computed","PropTypes","useSyncState","useState","raf","classNames","ResizeObserver","toPx","useRefs","pick","DEFAULT_SIZE","width","height","left","top","right","tabNavListProps","id","type","String","tabPosition","activeKey","Number","rtl","Boolean","animated","editable","moreIcon","any","moreTransitionName","mobile","tabBarGutter","renderTabBar","Function","locale","popupClassName","getPopupContainer","onTabClick","onTabScroll","getTabSize","tab","containerRect","offsetWidth","offsetHeight","offsetTop","offsetLeft","x","y","getBoundingClientRect","Math","abs","compatConfig","MODE","name","inheritAttrs","props","slots","Object","emits","setup","_ref","attrs","tabs","prefixCls","tabsWrapperRef","tabListRef","operationsRef","innerAddButtonRef","setRef","btnRefs","tabPositionTopOrBottom","transformLeft","setTransformLeft","next","prev","value","direction","transformTop","setTransformTop","wrapperScrollWidth","setWrapperScrollWidth","wrapperScrollHeight","setWrapperScrollHeight","wrapperWidth","setWrapperWidth","wrapperHeight","setWrapperHeight","addWidth","setAddWidth","addHeight","setAddHeight","tabSizes","setTabSizes","Map","tabOffsets","operationsHiddenClassName","transformMin","transformMax","min","max","alignInRange","touchMovingRef","lockAnimation","setLockAnimation","doLockAnimation","Date","now","clearTouchMoving","clearTimeout","doMove","setState","offset","newValue","offsetX","offsetY","setTimeout","scrollToTab","key","arguments","length","undefined","tabOffset","get","newTransform","visibleStart","visibleEnd","unit","position","transformSize","basicSize","tabContentSize","addSize","tabOffsetsValue","includes","mergedBasicSize","tabsVal","len","endIndex","i","startIndex","updateTabSizes","_a","newSizes","listRect","forEach","_ref2","btnRef","btnNode","$el","set","map","join","flush","onListHolderResize","_b","_c","_d","_e","addDom","newAddWidth","newAddHeight","newWrapperScrollWidth","newWrapperScrollHeight","hiddenTabs","slice","inkStyle","setInkStyle","activeTabOffset","inkBarRafRef","cleanInkBarRaf","cancel","newInkStyle","ExtraContent","_ref3","extra","content","class","className","style","pre","hasDropdown","wrapPrefix","pingLeft","pingRight","pingTop","pingBottom","tabNodeStyle","marginTop","tabNodes","closable","removeAriaLabel","e","onFocus","scrollLeft","scrollTop","onKeydown","leftExtra","default","transform","transition","visibility","inkBar","rightExtra","tabBarExtraContent"],"sources":["D:/University/sophomore/Software engineering/werwer_train/node_modules/ant-design-vue/es/tabs/src/TabNavList/index.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { resolveDirective as _resolveDirective, createVNode as _createVNode } from \"vue\";\nimport { useRafState } from '../hooks/useRaf';\nimport TabNode from './TabNode';\nimport useOffsets from '../hooks/useOffsets';\nimport OperationNode from './OperationNode';\nimport { useInjectTabs } from '../TabContext';\nimport useTouchMove from '../hooks/useTouchMove';\nimport AddButton from './AddButton';\nimport { objectType, functionType } from '../../../_util/type';\nimport { shallowRef, onBeforeUnmount, defineComponent, watch, watchEffect, computed } from 'vue';\nimport PropTypes from '../../../_util/vue-types';\nimport useSyncState from '../hooks/useSyncState';\nimport useState from '../../../_util/hooks/useState';\nimport raf from '../../../_util/raf';\nimport classNames from '../../../_util/classNames';\nimport ResizeObserver from '../../../vc-resize-observer';\nimport { toPx } from '../../../_util/util';\nimport useRefs from '../../../_util/hooks/useRefs';\nimport pick from 'lodash-es/pick';\nconst DEFAULT_SIZE = {\n  width: 0,\n  height: 0,\n  left: 0,\n  top: 0,\n  right: 0\n};\nexport const tabNavListProps = () => {\n  return {\n    id: {\n      type: String\n    },\n    tabPosition: {\n      type: String\n    },\n    activeKey: {\n      type: [String, Number]\n    },\n    rtl: {\n      type: Boolean\n    },\n    animated: objectType(),\n    editable: objectType(),\n    moreIcon: PropTypes.any,\n    moreTransitionName: {\n      type: String\n    },\n    mobile: {\n      type: Boolean\n    },\n    tabBarGutter: {\n      type: Number\n    },\n    renderTabBar: {\n      type: Function\n    },\n    locale: objectType(),\n    popupClassName: String,\n    getPopupContainer: functionType(),\n    onTabClick: {\n      type: Function\n    },\n    onTabScroll: {\n      type: Function\n    }\n  };\n};\nconst getTabSize = (tab, containerRect) => {\n  // tabListRef\n  const {\n    offsetWidth,\n    offsetHeight,\n    offsetTop,\n    offsetLeft\n  } = tab;\n  const {\n    width,\n    height,\n    x,\n    y\n  } = tab.getBoundingClientRect();\n  // Use getBoundingClientRect to avoid decimal inaccuracy\n  if (Math.abs(width - offsetWidth) < 1) {\n    return [width, height, x - containerRect.x, y - containerRect.y];\n  }\n  return [offsetWidth, offsetHeight, offsetLeft, offsetTop];\n};\n// const getSize = (refObj: ShallowRef<HTMLElement>) => {\n//   const { offsetWidth = 0, offsetHeight = 0 } = refObj.value || {};\n//   // Use getBoundingClientRect to avoid decimal inaccuracy\n//   if (refObj.value) {\n//     const { width, height } = refObj.value.getBoundingClientRect();\n//     if (Math.abs(width - offsetWidth) < 1) {\n//       return [width, height];\n//     }\n//   }\n//   return [offsetWidth, offsetHeight];\n// };\nexport default defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'TabNavList',\n  inheritAttrs: false,\n  props: tabNavListProps(),\n  slots: Object,\n  emits: ['tabClick', 'tabScroll'],\n  setup(props, _ref) {\n    let {\n      attrs,\n      slots\n    } = _ref;\n    const {\n      tabs,\n      prefixCls\n    } = useInjectTabs();\n    const tabsWrapperRef = shallowRef();\n    const tabListRef = shallowRef();\n    const operationsRef = shallowRef();\n    const innerAddButtonRef = shallowRef();\n    const [setRef, btnRefs] = useRefs();\n    const tabPositionTopOrBottom = computed(() => props.tabPosition === 'top' || props.tabPosition === 'bottom');\n    const [transformLeft, setTransformLeft] = useSyncState(0, (next, prev) => {\n      if (tabPositionTopOrBottom.value && props.onTabScroll) {\n        props.onTabScroll({\n          direction: next > prev ? 'left' : 'right'\n        });\n      }\n    });\n    const [transformTop, setTransformTop] = useSyncState(0, (next, prev) => {\n      if (!tabPositionTopOrBottom.value && props.onTabScroll) {\n        props.onTabScroll({\n          direction: next > prev ? 'top' : 'bottom'\n        });\n      }\n    });\n    const [wrapperScrollWidth, setWrapperScrollWidth] = useState(0);\n    const [wrapperScrollHeight, setWrapperScrollHeight] = useState(0);\n    const [wrapperWidth, setWrapperWidth] = useState(null);\n    const [wrapperHeight, setWrapperHeight] = useState(null);\n    const [addWidth, setAddWidth] = useState(0);\n    const [addHeight, setAddHeight] = useState(0);\n    const [tabSizes, setTabSizes] = useRafState(new Map());\n    const tabOffsets = useOffsets(tabs, tabSizes);\n    // ========================== Util =========================\n    const operationsHiddenClassName = computed(() => `${prefixCls.value}-nav-operations-hidden`);\n    const transformMin = shallowRef(0);\n    const transformMax = shallowRef(0);\n    watchEffect(() => {\n      if (!tabPositionTopOrBottom.value) {\n        transformMin.value = Math.min(0, wrapperHeight.value - wrapperScrollHeight.value);\n        transformMax.value = 0;\n      } else if (props.rtl) {\n        transformMin.value = 0;\n        transformMax.value = Math.max(0, wrapperScrollWidth.value - wrapperWidth.value);\n      } else {\n        transformMin.value = Math.min(0, wrapperWidth.value - wrapperScrollWidth.value);\n        transformMax.value = 0;\n      }\n    });\n    const alignInRange = value => {\n      if (value < transformMin.value) {\n        return transformMin.value;\n      }\n      if (value > transformMax.value) {\n        return transformMax.value;\n      }\n      return value;\n    };\n    // ========================= Mobile ========================\n    const touchMovingRef = shallowRef();\n    const [lockAnimation, setLockAnimation] = useState();\n    const doLockAnimation = () => {\n      setLockAnimation(Date.now());\n    };\n    const clearTouchMoving = () => {\n      clearTimeout(touchMovingRef.value);\n    };\n    const doMove = (setState, offset) => {\n      setState(value => {\n        const newValue = alignInRange(value + offset);\n        return newValue;\n      });\n    };\n    useTouchMove(tabsWrapperRef, (offsetX, offsetY) => {\n      if (tabPositionTopOrBottom.value) {\n        // Skip scroll if place is enough\n        if (wrapperWidth.value >= wrapperScrollWidth.value) {\n          return false;\n        }\n        doMove(setTransformLeft, offsetX);\n      } else {\n        if (wrapperHeight.value >= wrapperScrollHeight.value) {\n          return false;\n        }\n        doMove(setTransformTop, offsetY);\n      }\n      clearTouchMoving();\n      doLockAnimation();\n      return true;\n    });\n    watch(lockAnimation, () => {\n      clearTouchMoving();\n      if (lockAnimation.value) {\n        touchMovingRef.value = setTimeout(() => {\n          setLockAnimation(0);\n        }, 100);\n      }\n    });\n    // ========================= Scroll ========================\n    const scrollToTab = function () {\n      let key = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : props.activeKey;\n      const tabOffset = tabOffsets.value.get(key) || {\n        width: 0,\n        height: 0,\n        left: 0,\n        right: 0,\n        top: 0\n      };\n      if (tabPositionTopOrBottom.value) {\n        // ============ Align with top & bottom ============\n        let newTransform = transformLeft.value;\n        // RTL\n        if (props.rtl) {\n          if (tabOffset.right < transformLeft.value) {\n            newTransform = tabOffset.right;\n          } else if (tabOffset.right + tabOffset.width > transformLeft.value + wrapperWidth.value) {\n            newTransform = tabOffset.right + tabOffset.width - wrapperWidth.value;\n          }\n        }\n        // LTR\n        else if (tabOffset.left < -transformLeft.value) {\n          newTransform = -tabOffset.left;\n        } else if (tabOffset.left + tabOffset.width > -transformLeft.value + wrapperWidth.value) {\n          newTransform = -(tabOffset.left + tabOffset.width - wrapperWidth.value);\n        }\n        setTransformTop(0);\n        setTransformLeft(alignInRange(newTransform));\n      } else {\n        // ============ Align with left & right ============\n        let newTransform = transformTop.value;\n        if (tabOffset.top < -transformTop.value) {\n          newTransform = -tabOffset.top;\n        } else if (tabOffset.top + tabOffset.height > -transformTop.value + wrapperHeight.value) {\n          newTransform = -(tabOffset.top + tabOffset.height - wrapperHeight.value);\n        }\n        setTransformLeft(0);\n        setTransformTop(alignInRange(newTransform));\n      }\n    };\n    const visibleStart = shallowRef(0);\n    const visibleEnd = shallowRef(0);\n    watchEffect(() => {\n      let unit;\n      let position;\n      let transformSize;\n      let basicSize;\n      let tabContentSize;\n      let addSize;\n      const tabOffsetsValue = tabOffsets.value;\n      if (['top', 'bottom'].includes(props.tabPosition)) {\n        unit = 'width';\n        basicSize = wrapperWidth.value;\n        tabContentSize = wrapperScrollWidth.value;\n        addSize = addWidth.value;\n        position = props.rtl ? 'right' : 'left';\n        transformSize = Math.abs(transformLeft.value);\n      } else {\n        unit = 'height';\n        basicSize = wrapperHeight.value;\n        tabContentSize = wrapperScrollWidth.value;\n        addSize = addHeight.value;\n        position = 'top';\n        transformSize = -transformTop.value;\n      }\n      let mergedBasicSize = basicSize;\n      if (tabContentSize + addSize > basicSize && tabContentSize < basicSize) {\n        mergedBasicSize = basicSize - addSize;\n      }\n      const tabsVal = tabs.value;\n      if (!tabsVal.length) {\n        return [visibleStart.value, visibleEnd.value] = [0, 0];\n      }\n      const len = tabsVal.length;\n      let endIndex = len;\n      for (let i = 0; i < len; i += 1) {\n        const offset = tabOffsetsValue.get(tabsVal[i].key) || DEFAULT_SIZE;\n        if (offset[position] + offset[unit] > transformSize + mergedBasicSize) {\n          endIndex = i - 1;\n          break;\n        }\n      }\n      let startIndex = 0;\n      for (let i = len - 1; i >= 0; i -= 1) {\n        const offset = tabOffsetsValue.get(tabsVal[i].key) || DEFAULT_SIZE;\n        if (offset[position] < transformSize) {\n          startIndex = i + 1;\n          break;\n        }\n      }\n      return [visibleStart.value, visibleEnd.value] = [startIndex, endIndex];\n    });\n    const updateTabSizes = () => {\n      setTabSizes(() => {\n        var _a;\n        const newSizes = new Map();\n        const listRect = (_a = tabListRef.value) === null || _a === void 0 ? void 0 : _a.getBoundingClientRect();\n        tabs.value.forEach(_ref2 => {\n          let {\n            key\n          } = _ref2;\n          const btnRef = btnRefs.value.get(key);\n          const btnNode = (btnRef === null || btnRef === void 0 ? void 0 : btnRef.$el) || btnRef;\n          if (btnNode) {\n            const [width, height, left, top] = getTabSize(btnNode, listRect);\n            newSizes.set(key, {\n              width,\n              height,\n              left,\n              top\n            });\n          }\n        });\n        return newSizes;\n      });\n    };\n    watch(() => tabs.value.map(tab => tab.key).join('%%'), () => {\n      updateTabSizes();\n    }, {\n      flush: 'post'\n    });\n    const onListHolderResize = () => {\n      var _a, _b, _c, _d, _e;\n      // Update wrapper records\n      const offsetWidth = ((_a = tabsWrapperRef.value) === null || _a === void 0 ? void 0 : _a.offsetWidth) || 0;\n      const offsetHeight = ((_b = tabsWrapperRef.value) === null || _b === void 0 ? void 0 : _b.offsetHeight) || 0;\n      const addDom = ((_c = innerAddButtonRef.value) === null || _c === void 0 ? void 0 : _c.$el) || {};\n      const newAddWidth = addDom.offsetWidth || 0;\n      const newAddHeight = addDom.offsetHeight || 0;\n      setWrapperWidth(offsetWidth);\n      setWrapperHeight(offsetHeight);\n      setAddWidth(newAddWidth);\n      setAddHeight(newAddHeight);\n      const newWrapperScrollWidth = (((_d = tabListRef.value) === null || _d === void 0 ? void 0 : _d.offsetWidth) || 0) - newAddWidth;\n      const newWrapperScrollHeight = (((_e = tabListRef.value) === null || _e === void 0 ? void 0 : _e.offsetHeight) || 0) - newAddHeight;\n      setWrapperScrollWidth(newWrapperScrollWidth);\n      setWrapperScrollHeight(newWrapperScrollHeight);\n      // Update buttons records\n      updateTabSizes();\n    };\n    // ======================== Dropdown =======================\n    const hiddenTabs = computed(() => [...tabs.value.slice(0, visibleStart.value), ...tabs.value.slice(visibleEnd.value + 1)]);\n    // =================== Link & Operations ===================\n    const [inkStyle, setInkStyle] = useState();\n    const activeTabOffset = computed(() => tabOffsets.value.get(props.activeKey));\n    // Delay set ink style to avoid remove tab blink\n    const inkBarRafRef = shallowRef();\n    const cleanInkBarRaf = () => {\n      raf.cancel(inkBarRafRef.value);\n    };\n    watch([activeTabOffset, tabPositionTopOrBottom, () => props.rtl], () => {\n      const newInkStyle = {};\n      if (activeTabOffset.value) {\n        if (tabPositionTopOrBottom.value) {\n          if (props.rtl) {\n            newInkStyle.right = toPx(activeTabOffset.value.right);\n          } else {\n            newInkStyle.left = toPx(activeTabOffset.value.left);\n          }\n          newInkStyle.width = toPx(activeTabOffset.value.width);\n        } else {\n          newInkStyle.top = toPx(activeTabOffset.value.top);\n          newInkStyle.height = toPx(activeTabOffset.value.height);\n        }\n      }\n      cleanInkBarRaf();\n      inkBarRafRef.value = raf(() => {\n        setInkStyle(newInkStyle);\n      });\n    });\n    watch([() => props.activeKey, activeTabOffset, tabOffsets, tabPositionTopOrBottom], () => {\n      scrollToTab();\n    }, {\n      flush: 'post'\n    });\n    watch([() => props.rtl, () => props.tabBarGutter, () => props.activeKey, () => tabs.value], () => {\n      onListHolderResize();\n    }, {\n      flush: 'post'\n    });\n    const ExtraContent = _ref3 => {\n      let {\n        position,\n        prefixCls,\n        extra\n      } = _ref3;\n      if (!extra) return null;\n      const content = extra === null || extra === void 0 ? void 0 : extra({\n        position\n      });\n      return content ? _createVNode(\"div\", {\n        \"class\": `${prefixCls}-extra-content`\n      }, [content]) : null;\n    };\n    onBeforeUnmount(() => {\n      clearTouchMoving();\n      cleanInkBarRaf();\n    });\n    return () => {\n      const {\n        id,\n        animated,\n        activeKey,\n        rtl,\n        editable,\n        locale,\n        tabPosition,\n        tabBarGutter,\n        onTabClick\n      } = props;\n      const {\n        class: className,\n        style\n      } = attrs;\n      const pre = prefixCls.value;\n      // ========================= Render ========================\n      const hasDropdown = !!hiddenTabs.value.length;\n      const wrapPrefix = `${pre}-nav-wrap`;\n      let pingLeft;\n      let pingRight;\n      let pingTop;\n      let pingBottom;\n      if (tabPositionTopOrBottom.value) {\n        if (rtl) {\n          pingRight = transformLeft.value > 0;\n          pingLeft = transformLeft.value + wrapperWidth.value < wrapperScrollWidth.value;\n        } else {\n          pingLeft = transformLeft.value < 0;\n          pingRight = -transformLeft.value + wrapperWidth.value < wrapperScrollWidth.value;\n        }\n      } else {\n        pingTop = transformTop.value < 0;\n        pingBottom = -transformTop.value + wrapperHeight.value < wrapperScrollHeight.value;\n      }\n      const tabNodeStyle = {};\n      if (tabPosition === 'top' || tabPosition === 'bottom') {\n        tabNodeStyle[rtl ? 'marginRight' : 'marginLeft'] = typeof tabBarGutter === 'number' ? `${tabBarGutter}px` : tabBarGutter;\n      } else {\n        tabNodeStyle.marginTop = typeof tabBarGutter === 'number' ? `${tabBarGutter}px` : tabBarGutter;\n      }\n      const tabNodes = tabs.value.map((tab, i) => {\n        const {\n          key\n        } = tab;\n        return _createVNode(TabNode, {\n          \"id\": id,\n          \"prefixCls\": pre,\n          \"key\": key,\n          \"tab\": tab,\n          \"style\": i === 0 ? undefined : tabNodeStyle,\n          \"closable\": tab.closable,\n          \"editable\": editable,\n          \"active\": key === activeKey,\n          \"removeAriaLabel\": locale === null || locale === void 0 ? void 0 : locale.removeAriaLabel,\n          \"ref\": setRef(key),\n          \"onClick\": e => {\n            onTabClick(key, e);\n          },\n          \"onFocus\": () => {\n            scrollToTab(key);\n            doLockAnimation();\n            if (!tabsWrapperRef.value) {\n              return;\n            }\n            // Focus element will make scrollLeft change which we should reset back\n            if (!rtl) {\n              tabsWrapperRef.value.scrollLeft = 0;\n            }\n            tabsWrapperRef.value.scrollTop = 0;\n          }\n        }, slots);\n      });\n      return _createVNode(\"div\", {\n        \"role\": \"tablist\",\n        \"class\": classNames(`${pre}-nav`, className),\n        \"style\": style,\n        \"onKeydown\": () => {\n          // No need animation when use keyboard\n          doLockAnimation();\n        }\n      }, [_createVNode(ExtraContent, {\n        \"position\": \"left\",\n        \"prefixCls\": pre,\n        \"extra\": slots.leftExtra\n      }, null), _createVNode(ResizeObserver, {\n        \"onResize\": onListHolderResize\n      }, {\n        default: () => [_createVNode(\"div\", {\n          \"class\": classNames(wrapPrefix, {\n            [`${wrapPrefix}-ping-left`]: pingLeft,\n            [`${wrapPrefix}-ping-right`]: pingRight,\n            [`${wrapPrefix}-ping-top`]: pingTop,\n            [`${wrapPrefix}-ping-bottom`]: pingBottom\n          }),\n          \"ref\": tabsWrapperRef\n        }, [_createVNode(ResizeObserver, {\n          \"onResize\": onListHolderResize\n        }, {\n          default: () => [_createVNode(\"div\", {\n            \"ref\": tabListRef,\n            \"class\": `${pre}-nav-list`,\n            \"style\": {\n              transform: `translate(${transformLeft.value}px, ${transformTop.value}px)`,\n              transition: lockAnimation.value ? 'none' : undefined\n            }\n          }, [tabNodes, _createVNode(AddButton, {\n            \"ref\": innerAddButtonRef,\n            \"prefixCls\": pre,\n            \"locale\": locale,\n            \"editable\": editable,\n            \"style\": _extends(_extends({}, tabNodes.length === 0 ? undefined : tabNodeStyle), {\n              visibility: hasDropdown ? 'hidden' : null\n            })\n          }, null), _createVNode(\"div\", {\n            \"class\": classNames(`${pre}-ink-bar`, {\n              [`${pre}-ink-bar-animated`]: animated.inkBar\n            }),\n            \"style\": inkStyle.value\n          }, null)])]\n        })])]\n      }), _createVNode(OperationNode, _objectSpread(_objectSpread({}, props), {}, {\n        \"removeAriaLabel\": locale === null || locale === void 0 ? void 0 : locale.removeAriaLabel,\n        \"ref\": operationsRef,\n        \"prefixCls\": pre,\n        \"tabs\": hiddenTabs.value,\n        \"class\": !hasDropdown && operationsHiddenClassName.value\n      }), pick(slots, ['moreIcon'])), _createVNode(ExtraContent, {\n        \"position\": \"right\",\n        \"prefixCls\": pre,\n        \"extra\": slots.rightExtra\n      }, null), _createVNode(ExtraContent, {\n        \"position\": \"right\",\n        \"prefixCls\": pre,\n        \"extra\": slots.tabBarExtraContent\n      }, null)]);\n    };\n  }\n});"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}