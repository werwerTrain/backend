{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref, onMounted, computed, inject } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport eventBus from \"@/eventBus.js\";\nimport { getMessage } from \"@/api/api.js\";\nimport { postLogin } from \"@/api/api\";\nimport { postRegister } from \"@/api/api\";\nconst userID = \"0000\";\nexport default {\n  __name: 'HomeView',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const router = useRouter();\n    const activeIndex = ref(\"1\");\n    const drawer = ref(false);\n    const selectMenu = key => {\n      console.log(\"当前选中为\" + key);\n      activeIndex.value = key;\n      eventBus.MyOrdersActiveKey = \"1\";\n      if (activeIndex.value === \"1\") {\n        router.push(\"/home/ticket\");\n      } else if (activeIndex.value === \"2\") {\n        router.push(\"/home/hotel\");\n      } else if (activeIndex.value === \"3\") {\n        router.push(\"/home/dining\");\n      } else if (activeIndex.value === \"4\") {\n        router.push(\"/home/orders\");\n      }\n    };\n    // const message = ref([\n    //   {\n    //     title: \"车票提醒\",\n    //     messageTime: \"2020-03-10\",\n    //     content:\n    //       \"您已购买2024-05-09 G5车次 杭州--->北京车次，发车时间05月09日08:00。请合理安排出行时间。\",\n    //     haveRead: true,\n    //     orderType:\"3\",\n    //     orderId: \"string3\",\n    //   },\n    //   {\n    //     title: \"订单取消\",\n    //     messageTime: \"2024-09-12\",\n    //     content: \"您已下单2024-10-20 G81车次 午餐餐品。将由列车员送到座位上。\",\n    //     haveRead: false,\n    //     orderType:\"5\",\n    //     orderId: \"string4\",\n    //   },\n    // ]);\n    const message = ref([]);\n    const unReadNum = computed(() => {\n      return message.value.filter(msg => !msg.haveRead).length;\n    });\n\n    //登陆\n    //登陆\n    const openLogin = ref(false);\n    const my_id = ref('');\n    const my_password = ref('');\n    const login = () => {\n      openLogin.value = true;\n    };\n    const handleLoginOk = e => {\n      console.log(e);\n      if (my_id.value === \"\" || my_password.value === \"\") {\n        ElMessage({\n          message: \"还有没填写的信息\",\n          type: \"error\",\n          plain: true\n        });\n      } else {\n        postmyLogin();\n      }\n      openLogin.value = false;\n    };\n    const postmyLogin = async () => {\n      try {\n        const response = await postLogin(my_id, my_password);\n        if (response.data.result) {\n          ElMessage({\n            message: \"登陆成功\",\n            type: \"success\"\n          });\n          localstorage.setItem('user_id', my_id);\n          localStorage.setItem('isLoggedIn', true);\n          localstorage.setItem('email', response.data.email);\n          localStorage.setItem('password', my_password);\n          localStorage.setItem('name', response.data.name);\n          updateUI();\n          //重新加载页面\n          window.location.href = window.location.href;\n        } else {\n          ElMessage.error(\"登陆失败:用户ID或密码错误\");\n        }\n      } catch (error) {\n        console.error(\"登陆失败:\", error);\n      }\n    };\n\n    //注册\n    const my_email = ref('');\n    const my_name = ref('');\n    const openRegister = ref(false);\n    const register = () => {\n      openRegister.value = true;\n    };\n    const postmyRegister = async () => {\n      try {\n        const response = await postRegister(my_id, my_name, my_password, my_email);\n        if (response.data.result) {\n          ElMessage({\n            message: \"注册成功\",\n            type: \"success\"\n          });\n          localStorage.setItem('user_id', my_id);\n          localStorage.setItem('isLoggedIn', true);\n          localStorage.setItem('email', my_email);\n          localStorage.setItem('password', my_password);\n          localStorage.setItem('name', my_name);\n          updateUI();\n\n          //重新加载页面\n          window.location.href = window.location.href;\n        } else {\n          ElMessage.error(\"注册失败:\" + response.data.reason);\n        }\n      } catch (error) {\n        console.error(\"注册失败:\", error);\n      }\n    };\n    const handleRegisterOk = e => {\n      console.log(e);\n      if (my_id.value === \"\" || my_password.value === \"\" || my_email.value === \"\" || my_name === \"\") {\n        ElMessage({\n          message: \"还有没填写的信息\",\n          type: \"error\",\n          plain: true\n        });\n      } else {\n        postmyRegister();\n      }\n      openRegister.value = false;\n    };\n\n    // 页面加载完成时执行\n    document.addEventListener('DOMContentLoaded', function () {\n      // 更新页面元素的显示状态\n      updateUI();\n    });\n\n    // 更新页面元素显示状态的函数\n    function updateUI() {\n      var isLoggedIn = localStorage.getItem('isLoggedIn');\n\n      // 根据 isLoggedIn 的值更新页面元素显示状态\n      if (isLoggedIn === 'true') {\n        document.getElementById('loginButton').style.display = 'none'; // 隐藏登录按钮\n        document.getElementById('loggedInMessage').style.display = 'block'; // 显示已登录的消息\n      } else {\n        document.getElementById('loginButton').style.display = 'block'; // 显示登录按钮\n        document.getElementById('loggedInMessage').style.display = 'none'; // 隐藏已登录的消息\n      }\n    }\n    onMounted(() => {\n      router.push(\"/home/ticket\");\n      getAllMessage();\n    });\n    const getAllMessage = async () => {\n      //TODO 判断是否登录\n      try {\n        const responce = await getMessage(userID);\n        message.value = responce.data.result;\n      } catch (error) {\n        console.log(\"获取消息失败\", error);\n      }\n    };\n    const jumpToOrder = (orderType, orderId) => {\n      eventBus.HeaderKey = \"4\";\n      activeIndex.value = \"4\";\n      //TODO 依据不同情况修改\n      eventBus.MyOrdersActiveKey = orderType;\n      if (orderType === \"3\") {\n        router.push(\"/home/orders/ticketOrders\");\n        router.push({\n          path: \"/home/orders/ticketOrders\",\n          query: {\n            orderId: orderId\n          }\n        });\n      } else if (orderType === \"4\") {\n        router.push({\n          path: \"/home/orders/hotelOrders\",\n          query: {\n            orderId: orderId\n          }\n        });\n      } else if (orderType === \"5\") {\n        router.push({\n          path: \"/home/orders/foodOrders\",\n          query: {\n            orderId: orderId\n          }\n        });\n      }\n    };\n    setInterval(getAllMessage, 1000);\n    const __returned__ = {\n      router,\n      activeIndex,\n      drawer,\n      selectMenu,\n      message,\n      userID,\n      unReadNum,\n      openLogin,\n      my_id,\n      my_password,\n      login,\n      handleLoginOk,\n      postmyLogin,\n      my_email,\n      my_name,\n      openRegister,\n      register,\n      postmyRegister,\n      handleRegisterOk,\n      updateUI,\n      getAllMessage,\n      jumpToOrder,\n      ref,\n      onMounted,\n      computed,\n      inject,\n      get useRouter() {\n        return useRouter;\n      },\n      get eventBus() {\n        return eventBus;\n      },\n      get getMessage() {\n        return getMessage;\n      },\n      get postLogin() {\n        return postLogin;\n      },\n      get postRegister() {\n        return postRegister;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","computed","inject","useRouter","eventBus","getMessage","postLogin","postRegister","userID","router","activeIndex","drawer","selectMenu","key","console","log","value","MyOrdersActiveKey","push","message","unReadNum","filter","msg","haveRead","length","openLogin","my_id","my_password","login","handleLoginOk","e","ElMessage","type","plain","postmyLogin","response","data","result","localstorage","setItem","localStorage","email","name","updateUI","window","location","href","error","my_email","my_name","openRegister","register","postmyRegister","reason","handleRegisterOk","document","addEventListener","isLoggedIn","getItem","getElementById","style","display","getAllMessage","responce","jumpToOrder","orderType","orderId","HeaderKey","path","query","setInterval"],"sources":["D:/University/sophomore/Software engineering/werwer_train/src/views/HomeView.vue"],"sourcesContent":["<template>\r\n  <el-container class=\"home-container\">\r\n    <el-header\r\n      style=\"display: flex; align-items: center; justify-content: space-between\"\r\n    >\r\n      <div style=\"display: flex; align-items: center\">\r\n        <img\r\n          src=\"../assets/logo2.png\"\r\n          style=\"width: 100px; height: 55px; margin-top: 3%\"\r\n        />\r\n        <el-menu\r\n          :default-active=\"activeIndex\"\r\n          class=\"menu\"\r\n          mode=\"horizontal\"\r\n          :ellipsis=\"false\"\r\n          @select=\"selectMenu\"\r\n          style=\"color: black; margin-top: 2%\"\r\n        >\r\n          <el-menu-item\r\n            index=\"1\"\r\n            style=\"color: black; font-weight: bold; font-size: 17px\"\r\n            >火车订票</el-menu-item\r\n          >\r\n          <el-menu-item\r\n            index=\"2\"\r\n            style=\"color: black; font-weight: bold; font-size: 17px\"\r\n            >酒店预订</el-menu-item\r\n          >\r\n          <el-menu-item\r\n            index=\"3\"\r\n            style=\"color: black; font-weight: bold; font-size: 17px\"\r\n            >火车订餐</el-menu-item\r\n          >\r\n          <el-menu-item\r\n            index=\"4\"\r\n            style=\"color: black; font-weight: bold; font-size: 17px\"\r\n            >我的</el-menu-item\r\n          >\r\n        </el-menu>\r\n      </div>\r\n      <div style=\"display: flex; align-items: center;\">\r\n        <div style=\"display: flex; align-items: center;\">\r\n        <el-popover\r\n          placement=\"bottom\"\r\n          :width=\"200\"\r\n          trigger=\"click\"\r\n          content=\"this is content, this is content, this is content\"\r\n        >\r\n          <template #reference >\r\n            <el-button id=\"loginButton\" type=\"primary\" round plain size=\"large\" style=\"margin-top:12%;margin-right:3%;\" class=\"log\">登录/注册</el-button>\r\n            \r\n          </template>\r\n          <div>\r\n            <a-button @click=\"login\" style=\"width:170px;\">\r\n              登录\r\n            </a-button>\r\n            <a-modal v-model:open=\"openLogin\" title=\"登陆\" @ok=\"handleLoginOk\">\r\n              <div style=\"margin-top:20px;\">\r\n                <el-input\r\n                  v-model=\"my_id\"\r\n                  style=\"max-width: 600px\"\r\n                  placeholder=\"输入身份证号\"\r\n                >\r\n                  <template #prepend>ID号</template>\r\n                </el-input>\r\n              </div>\r\n              <div style=\"margin-top:20px;\">\r\n                <el-input\r\n                  v-model=\"my_password\"\r\n                  style=\"max-width: 600px\"\r\n                  placeholder=\"输入密码\"\r\n                >\r\n                  <template #prepend>密码</template>\r\n                </el-input>\r\n              </div>\r\n            </a-modal>\r\n\r\n          </div>\r\n          <div>\r\n            <a-button @click=\"register\" style=\"width:170px;margin-top:10px;\">\r\n              注册\r\n            </a-button>\r\n            <a-modal v-model:open=\"openRegister\" title=\"注册\" @ok=\"handleRegisterOk\">\r\n              <div style=\"margin-top:20px;\">\r\n                <el-input\r\n                  v-model=\"my_id\"\r\n                  style=\"max-width: 600px\"\r\n                  placeholder=\"输入身份证号\"\r\n                >\r\n                  <template #prepend>ID号</template>\r\n                </el-input>\r\n              </div>\r\n              <div style=\"margin-top:20px;\">\r\n                <el-input\r\n                  v-model=\"my_name\"\r\n                  style=\"max-width: 600px\"\r\n                  placeholder=\"输入姓名\"\r\n                >\r\n                  <template #prepend>姓名</template>\r\n                </el-input>\r\n              </div>\r\n              <div style=\"margin-top:20px;\">\r\n                <el-input\r\n                  v-model=\"my_password\"\r\n                  style=\"max-width: 600px\"\r\n                  placeholder=\"输入密码\"\r\n                >\r\n                  <template #prepend>密码</template>\r\n                </el-input>\r\n              </div>\r\n              <div style=\"margin-top:20px;\">\r\n                <el-input\r\n                  v-model=\"my_email\"\r\n                  style=\"max-width: 600px\"\r\n                  placeholder=\"输入邮箱\"\r\n                >\r\n                  <template #prepend>邮箱</template>\r\n                </el-input>\r\n              </div>\r\n            </a-modal>\r\n          </div>\r\n        </el-popover>\r\n        <div id=\"loggedInMessage\" style=\"display:none\">\r\n              <div style=\"marigin-top:30px;\">\r\n              \r\n                <a-avatar style=\"margin-top:10px;margin-right:20px;\" size=\"large\" :src=\"'https://m.elongstatic.com/hotel_pc_i18n/product/_nuxt/userHead.0-0-3-213881db..svg'\" />\r\n\r\n              </div>\r\n        </div>\r\n        <el-badge\r\n          :value=\"unReadNum\"\r\n          :show-zero=\"false\"\r\n          :max=\"10\"\r\n          style=\"margin-top: 8%; margin-right: 1em\"\r\n        >\r\n        <img src=\"../assets/message.png\" style=\"width: 50px; height: 50px;\" @click=\"drawer = true\" /> </el-badge>\r\n      </div>\r\n      </div>\r\n    </el-header>\r\n    <div class=\"main\">\r\n      <el-main width=\"80%\" style=\"height: 90vh\">\r\n        <router-view />\r\n      </el-main>\r\n    </div>\r\n\r\n    <!-- 弹出消息栏 -->\r\n    <el-drawer v-model=\"drawer\" title=\"消息\" direction=\"rtl\" size=\"35%\">\r\n      <div v-for=\"(item, index) in message\" :key=\"index\">\r\n        <el-card\r\n          style=\"border-radius: 15px; margin-bottom: 5%\"\r\n          @click=\"\r\n            item.haveRead = true;\r\n            jumpToOrder(item.orderType, item.orderId);\r\n          \"\r\n        >\r\n          <template #header>\r\n            <div style=\"display: flex; justify-content: space-between\">\r\n              <el-badge is-dot :hidden=\"item.haveRead\">\r\n                <span style=\"margin-top: 0.3em; margin-right: 0.3em\">\r\n                  {{ item.title }}\r\n                </span>\r\n              </el-badge>\r\n              <span style=\"color: #dedfe0\">{{ item.messageTime }}</span>\r\n            </div>\r\n          </template>\r\n          <text>{{ item.content }}</text>\r\n          <span style=\"vertical-align: middle; text-align: center\">\r\n            <text style=\"color: #a0cfff\">查看详细信息</text>\r\n            <el-icon style=\"color: #a0cfff\"><DArrowRight /></el-icon>\r\n          </span>\r\n        </el-card>\r\n      </div>\r\n    </el-drawer>\r\n  </el-container>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted, computed,inject } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport eventBus from \"@/eventBus.js\";\r\nimport { getMessage } from \"@/api/api.js\";\r\nconst router = useRouter();\r\nconst activeIndex = ref(\"1\");\r\nconst drawer = ref(false);\r\nconst selectMenu = (key) => {\r\n  console.log(\"当前选中为\" + key);\r\n  activeIndex.value = key;\r\n  eventBus.MyOrdersActiveKey = \"1\";\r\n  if (activeIndex.value === \"1\") {\r\n    router.push(\"/home/ticket\");\r\n  } else if (activeIndex.value === \"2\") {\r\n    router.push(\"/home/hotel\");\r\n  } else if (activeIndex.value === \"3\") {\r\n    router.push(\"/home/dining\");\r\n  } else if (activeIndex.value === \"4\") {\r\n    router.push(\"/home/orders\");\r\n  }\r\n};\r\n// const message = ref([\r\n//   {\r\n//     title: \"车票提醒\",\r\n//     messageTime: \"2020-03-10\",\r\n//     content:\r\n//       \"您已购买2024-05-09 G5车次 杭州--->北京车次，发车时间05月09日08:00。请合理安排出行时间。\",\r\n//     haveRead: true,\r\n//     orderType:\"3\",\r\n//     orderId: \"string3\",\r\n//   },\r\n//   {\r\n//     title: \"订单取消\",\r\n//     messageTime: \"2024-09-12\",\r\n//     content: \"您已下单2024-10-20 G81车次 午餐餐品。将由列车员送到座位上。\",\r\n//     haveRead: false,\r\n//     orderType:\"5\",\r\n//     orderId: \"string4\",\r\n//   },\r\n// ]);\r\nconst message = ref([]);\r\nconst userID = \"0000\";\r\nconst unReadNum = computed(() => {\r\n  return message.value.filter((msg) => !msg.haveRead).length;\r\n});\r\n\r\n//登陆\r\n//登陆\r\nimport { postLogin } from \"@/api/api\"\r\nconst openLogin = ref(false);\r\nconst my_id = ref('');\r\nconst my_password = ref('');\r\n\r\nconst login = () => {\r\n  openLogin.value = true;\r\n};\r\n\r\nconst handleLoginOk = (e) => {\r\n  console.log(e);\r\n  if (my_id.value === \"\" || my_password.value === \"\") {\r\n    ElMessage({\r\n      message: \"还有没填写的信息\",\r\n      type: \"error\",\r\n      plain: true,\r\n    });\r\n  } else {\r\n    postmyLogin();\r\n  }\r\n  openLogin.value = false;\r\n};\r\nconst postmyLogin = async () =>{\r\n  try{\r\n    const response = await postLogin(my_id,my_password);\r\n    if(response.data.result){\r\n      ElMessage({\r\n        message: \"登陆成功\",\r\n        type: \"success\",\r\n      });\r\n      localstorage.setItem('user_id',my_id);\r\n      localStorage.setItem('isLoggedIn',true);\r\n      localstorage.setItem('email',response.data.email);\r\n      localStorage.setItem('password',my_password);\r\n      localStorage.setItem('name',response.data.name);\r\n      updateUI();\r\n      //重新加载页面\r\n      window.location.href = window.location.href;\r\n    }else{\r\n      ElMessage.error(\"登陆失败:用户ID或密码错误\");\r\n    }\r\n  }catch (error) {\r\n    console.error(\"登陆失败:\", error);\r\n  }\r\n}\r\n\r\n\r\n\r\n//注册\r\nconst my_email = ref('');\r\nconst my_name = ref('');\r\n\r\nimport { postRegister } from \"@/api/api\"\r\nconst openRegister = ref(false);\r\n\r\nconst register = () => {\r\n  openRegister.value = true;\r\n};\r\n\r\nconst postmyRegister = async () =>{\r\n  try{\r\n    const response = await postRegister(my_id, my_name, my_password,my_email);\r\n    if(response.data.result){\r\n      ElMessage({\r\n        message: \"注册成功\",\r\n        type: \"success\",\r\n      });\r\n      localStorage.setItem('user_id',my_id);\r\n      localStorage.setItem('isLoggedIn',true);\r\n      localStorage.setItem('email',my_email);\r\n      localStorage.setItem('password',my_password);\r\n      localStorage.setItem('name',my_name);\r\n      updateUI();\r\n      \r\n      //重新加载页面\r\n      window.location.href = window.location.href;\r\n    }else{\r\n      ElMessage.error(\"注册失败:\"+response.data.reason);\r\n    }\r\n  }catch (error) {\r\n    console.error(\"注册失败:\", error);\r\n  }\r\n}\r\n\r\nconst handleRegisterOk = (e) => {\r\n  console.log(e);\r\n  if (my_id.value === \"\" || my_password.value === \"\" || my_email.value === \"\" || my_name === \"\") {\r\n    ElMessage({\r\n      message: \"还有没填写的信息\",\r\n      type: \"error\",\r\n      plain: true,\r\n    });\r\n  } else {\r\n    postmyRegister();\r\n  }\r\n  openRegister.value = false;\r\n};\r\n\r\n\r\n// 页面加载完成时执行\r\ndocument.addEventListener('DOMContentLoaded', function() {\r\n  // 更新页面元素的显示状态\r\n  updateUI();\r\n});\r\n\r\n// 更新页面元素显示状态的函数\r\nfunction updateUI() {\r\n  var isLoggedIn = localStorage.getItem('isLoggedIn');\r\n  \r\n  \r\n  // 根据 isLoggedIn 的值更新页面元素显示状态\r\n  if (isLoggedIn === 'true') {\r\n    document.getElementById('loginButton').style.display = 'none'; // 隐藏登录按钮\r\n    document.getElementById('loggedInMessage').style.display = 'block'; // 显示已登录的消息\r\n  } else {\r\n    document.getElementById('loginButton').style.display = 'block'; // 显示登录按钮\r\n    document.getElementById('loggedInMessage').style.display = 'none'; // 隐藏已登录的消息\r\n  }\r\n}\r\n\r\nonMounted(() => {\r\n  router.push(\"/home/ticket\");\r\n  getAllMessage();\r\n});\r\nconst getAllMessage = async () => {\r\n  //TODO 判断是否登录\r\n  try {\r\n    const responce = await getMessage(userID);\r\n    message.value = responce.data.result;\r\n  } catch (error) {\r\n    console.log(\"获取消息失败\", error);\r\n  }\r\n};\r\nconst jumpToOrder = (orderType, orderId) => {\r\n  eventBus.HeaderKey = \"4\";\r\n  activeIndex.value = \"4\";\r\n  //TODO 依据不同情况修改\r\n  eventBus.MyOrdersActiveKey = orderType;\r\n  if (orderType === \"3\") {\r\n    router.push(\"/home/orders/ticketOrders\");\r\n    router.push({\r\n      path: \"/home/orders/ticketOrders\",\r\n      query: { orderId: orderId },\r\n    });\r\n  } else if (orderType === \"4\") {\r\n    router.push({\r\n      path: \"/home/orders/hotelOrders\",\r\n      query: { orderId: orderId },\r\n    });\r\n  } else if (orderType === \"5\") {\r\n    router.push({\r\n      path: \"/home/orders/foodOrders\",\r\n      query: { orderId: orderId },\r\n    });\r\n  }\r\n};\r\nsetInterval(getAllMessage,1000);\r\n</script>\r\n\r\n<style>\r\n.home-container {\r\n  width: 100%;\r\n  height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.el-header {\r\n  height: 60px;\r\n}\r\n\r\n* {\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n\r\n.main {\r\n  flex: 1;\r\n  display: flex;\r\n  align-items: stretch;\r\n}\r\n\r\n.header-content {\r\n  display: flex;\r\n  align-items: center;\r\n  padding-top: 8px;\r\n}\r\n\r\n.title {\r\n  align-self: center;\r\n  margin-right: auto;\r\n}\r\n\r\n.menu {\r\n  margin-left: 10%;\r\n}\r\n\r\n.menu-change {\r\n  height: 100%;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}