{"ast":null,"code":"import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createBlock as _createBlock } from \"vue\";\nimport _imports_0 from '../assets/logo2.png';\nimport _imports_1 from '../assets/message.png';\nconst _hoisted_1 = {\n  style: {\n    \"display\": \"flex\",\n    \"align-items\": \"center\"\n  }\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"img\", {\n  src: _imports_0,\n  style: {\n    \"width\": \"100px\",\n    \"height\": \"55px\",\n    \"margin-top\": \"3%\"\n  }\n}, null, -1 /* HOISTED */);\nconst _hoisted_3 = {\n  style: {\n    \"display\": \"flex\",\n    \"align-items\": \"center\"\n  }\n};\nconst _hoisted_4 = {\n  style: {\n    \"display\": \"flex\",\n    \"align-items\": \"center\"\n  }\n};\nconst _hoisted_5 = {\n  style: {\n    \"margin-top\": \"20px\"\n  }\n};\nconst _hoisted_6 = {\n  style: {\n    \"margin-top\": \"20px\"\n  }\n};\nconst _hoisted_7 = {\n  style: {\n    \"margin-top\": \"20px\"\n  }\n};\nconst _hoisted_8 = {\n  style: {\n    \"margin-top\": \"20px\"\n  }\n};\nconst _hoisted_9 = {\n  style: {\n    \"margin-top\": \"20px\"\n  }\n};\nconst _hoisted_10 = {\n  style: {\n    \"margin-top\": \"20px\"\n  }\n};\nconst _hoisted_11 = {\n  id: \"loggedInMessage\",\n  style: {\n    \"display\": \"none\"\n  }\n};\nconst _hoisted_12 = {\n  style: {\n    \"marigin-top\": \"30px\"\n  }\n};\nconst _hoisted_13 = {\n  class: \"main\"\n};\nconst _hoisted_14 = {\n  style: {\n    \"display\": \"flex\",\n    \"justify-content\": \"space-between\"\n  }\n};\nconst _hoisted_15 = {\n  style: {\n    \"margin-top\": \"0.3em\",\n    \"margin-right\": \"0.3em\"\n  }\n};\nconst _hoisted_16 = {\n  style: {\n    \"color\": \"#dedfe0\"\n  }\n};\nconst _hoisted_17 = {\n  style: {\n    \"vertical-align\": \"middle\",\n    \"text-align\": \"center\"\n  }\n};\nconst _hoisted_18 = /*#__PURE__*/_createElementVNode(\"text\", {\n  style: {\n    \"color\": \"#a0cfff\"\n  }\n}, \"查看详细信息\", -1 /* HOISTED */);\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_menu_item = _resolveComponent(\"el-menu-item\");\n  const _component_el_menu = _resolveComponent(\"el-menu\");\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_a_button = _resolveComponent(\"a-button\");\n  const _component_el_input = _resolveComponent(\"el-input\");\n  const _component_a_modal = _resolveComponent(\"a-modal\");\n  const _component_el_popover = _resolveComponent(\"el-popover\");\n  const _component_a_avatar = _resolveComponent(\"a-avatar\");\n  const _component_el_badge = _resolveComponent(\"el-badge\");\n  const _component_el_header = _resolveComponent(\"el-header\");\n  const _component_router_view = _resolveComponent(\"router-view\");\n  const _component_el_main = _resolveComponent(\"el-main\");\n  const _component_DArrowRight = _resolveComponent(\"DArrowRight\");\n  const _component_el_icon = _resolveComponent(\"el-icon\");\n  const _component_el_card = _resolveComponent(\"el-card\");\n  const _component_el_drawer = _resolveComponent(\"el-drawer\");\n  const _component_el_container = _resolveComponent(\"el-container\");\n  return _openBlock(), _createBlock(_component_el_container, {\n    class: \"home-container\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_header, {\n      style: {\n        \"display\": \"flex\",\n        \"align-items\": \"center\",\n        \"justify-content\": \"space-between\"\n      }\n    }, {\n      default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_1, [_hoisted_2, _createVNode(_component_el_menu, {\n        \"default-active\": $setup.activeIndex,\n        class: \"menu\",\n        mode: \"horizontal\",\n        ellipsis: false,\n        onSelect: $setup.selectMenu,\n        style: {\n          \"color\": \"black\",\n          \"margin-top\": \"2%\"\n        }\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_menu_item, {\n          index: \"1\",\n          style: {\n            \"color\": \"black\",\n            \"font-weight\": \"bold\",\n            \"font-size\": \"17px\"\n          }\n        }, {\n          default: _withCtx(() => [_createTextVNode(\"火车订票\")]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_el_menu_item, {\n          index: \"2\",\n          style: {\n            \"color\": \"black\",\n            \"font-weight\": \"bold\",\n            \"font-size\": \"17px\"\n          }\n        }, {\n          default: _withCtx(() => [_createTextVNode(\"酒店预订\")]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_el_menu_item, {\n          index: \"3\",\n          style: {\n            \"color\": \"black\",\n            \"font-weight\": \"bold\",\n            \"font-size\": \"17px\"\n          }\n        }, {\n          default: _withCtx(() => [_createTextVNode(\"火车订餐\")]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_el_menu_item, {\n          index: \"4\",\n          style: {\n            \"color\": \"black\",\n            \"font-weight\": \"bold\",\n            \"font-size\": \"17px\"\n          }\n        }, {\n          default: _withCtx(() => [_createTextVNode(\"我的\")]),\n          _: 1 /* STABLE */\n        })]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"default-active\"])]), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createVNode(_component_el_popover, {\n        placement: \"bottom\",\n        width: 200,\n        trigger: \"click\",\n        content: \"this is content, this is content, this is content\"\n      }, {\n        reference: _withCtx(() => [_createVNode(_component_el_button, {\n          id: \"loginButton\",\n          type: \"primary\",\n          round: \"\",\n          plain: \"\",\n          size: \"large\",\n          style: {\n            \"margin-top\": \"12%\",\n            \"margin-right\": \"3%\"\n          },\n          class: \"log\"\n        }, {\n          default: _withCtx(() => [_createTextVNode(\"登录/注册\")]),\n          _: 1 /* STABLE */\n        })]),\n        default: _withCtx(() => [_createElementVNode(\"div\", null, [_createVNode(_component_a_button, {\n          onClick: $setup.login,\n          style: {\n            \"width\": \"170px\"\n          }\n        }, {\n          default: _withCtx(() => [_createTextVNode(\" 登录 \")]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_a_modal, {\n          open: $setup.openLogin,\n          \"onUpdate:open\": _cache[2] || (_cache[2] = $event => $setup.openLogin = $event),\n          title: \"登陆\",\n          onOk: $setup.handleLoginOk\n        }, {\n          default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_5, [_createVNode(_component_el_input, {\n            modelValue: $setup.my_id,\n            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.my_id = $event),\n            style: {\n              \"max-width\": \"600px\"\n            },\n            placeholder: \"输入身份证号\"\n          }, {\n            prepend: _withCtx(() => [_createTextVNode(\"ID号\")]),\n            _: 1 /* STABLE */\n          }, 8 /* PROPS */, [\"modelValue\"])]), _createElementVNode(\"div\", _hoisted_6, [_createVNode(_component_el_input, {\n            modelValue: $setup.my_password,\n            \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.my_password = $event),\n            style: {\n              \"max-width\": \"600px\"\n            },\n            placeholder: \"输入密码\"\n          }, {\n            prepend: _withCtx(() => [_createTextVNode(\"密码\")]),\n            _: 1 /* STABLE */\n          }, 8 /* PROPS */, [\"modelValue\"])])]),\n          _: 1 /* STABLE */\n        }, 8 /* PROPS */, [\"open\"])]), _createElementVNode(\"div\", null, [_createVNode(_component_a_button, {\n          onClick: $setup.register,\n          style: {\n            \"width\": \"170px\",\n            \"margin-top\": \"10px\"\n          }\n        }, {\n          default: _withCtx(() => [_createTextVNode(\" 注册 \")]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_a_modal, {\n          open: $setup.openRegister,\n          \"onUpdate:open\": _cache[7] || (_cache[7] = $event => $setup.openRegister = $event),\n          title: \"注册\",\n          onOk: $setup.handleRegisterOk\n        }, {\n          default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_7, [_createVNode(_component_el_input, {\n            modelValue: $setup.my_id,\n            \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.my_id = $event),\n            style: {\n              \"max-width\": \"600px\"\n            },\n            placeholder: \"输入身份证号\"\n          }, {\n            prepend: _withCtx(() => [_createTextVNode(\"ID号\")]),\n            _: 1 /* STABLE */\n          }, 8 /* PROPS */, [\"modelValue\"])]), _createElementVNode(\"div\", _hoisted_8, [_createVNode(_component_el_input, {\n            modelValue: $setup.my_name,\n            \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $setup.my_name = $event),\n            style: {\n              \"max-width\": \"600px\"\n            },\n            placeholder: \"输入姓名\"\n          }, {\n            prepend: _withCtx(() => [_createTextVNode(\"姓名\")]),\n            _: 1 /* STABLE */\n          }, 8 /* PROPS */, [\"modelValue\"])]), _createElementVNode(\"div\", _hoisted_9, [_createVNode(_component_el_input, {\n            modelValue: $setup.my_password,\n            \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $setup.my_password = $event),\n            style: {\n              \"max-width\": \"600px\"\n            },\n            placeholder: \"输入密码\"\n          }, {\n            prepend: _withCtx(() => [_createTextVNode(\"密码\")]),\n            _: 1 /* STABLE */\n          }, 8 /* PROPS */, [\"modelValue\"])]), _createElementVNode(\"div\", _hoisted_10, [_createVNode(_component_el_input, {\n            modelValue: $setup.my_email,\n            \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $setup.my_email = $event),\n            style: {\n              \"max-width\": \"600px\"\n            },\n            placeholder: \"输入邮箱\"\n          }, {\n            prepend: _withCtx(() => [_createTextVNode(\"邮箱\")]),\n            _: 1 /* STABLE */\n          }, 8 /* PROPS */, [\"modelValue\"])])]),\n          _: 1 /* STABLE */\n        }, 8 /* PROPS */, [\"open\"])])]),\n        _: 1 /* STABLE */\n      }), _createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"div\", _hoisted_12, [_createVNode(_component_a_avatar, {\n        style: {\n          \"margin-top\": \"10px\",\n          \"margin-right\": \"20px\"\n        },\n        size: \"large\",\n        src: 'https://m.elongstatic.com/hotel_pc_i18n/product/_nuxt/userHead.0-0-3-213881db..svg'\n      })])]), _createVNode(_component_el_badge, {\n        value: $setup.unReadNum,\n        \"show-zero\": false,\n        max: 10,\n        style: {\n          \"margin-top\": \"8%\",\n          \"margin-right\": \"1em\"\n        }\n      }, {\n        default: _withCtx(() => [_createElementVNode(\"img\", {\n          src: _imports_1,\n          style: {\n            \"width\": \"50px\",\n            \"height\": \"50px\"\n          },\n          onClick: _cache[8] || (_cache[8] = $event => $setup.drawer = true)\n        })]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"value\"])])])]),\n      _: 1 /* STABLE */\n    }), _createElementVNode(\"div\", _hoisted_13, [_createVNode(_component_el_main, {\n      width: \"80%\",\n      style: {\n        \"height\": \"90vh\"\n      }\n    }, {\n      default: _withCtx(() => [_createVNode(_component_router_view)]),\n      _: 1 /* STABLE */\n    })]), _createCommentVNode(\" 弹出消息栏 \"), _createVNode(_component_el_drawer, {\n      modelValue: $setup.drawer,\n      \"onUpdate:modelValue\": _cache[9] || (_cache[9] = $event => $setup.drawer = $event),\n      title: \"消息\",\n      direction: \"rtl\",\n      size: \"35%\"\n    }, {\n      default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.message, (item, index) => {\n        return _openBlock(), _createElementBlock(\"div\", {\n          key: index\n        }, [_createVNode(_component_el_card, {\n          style: {\n            \"border-radius\": \"15px\",\n            \"margin-bottom\": \"5%\"\n          },\n          onClick: $event => {\n            item.haveRead = true;\n            $setup.jumpToOrder(item.orderType, item.orderId);\n          }\n        }, {\n          header: _withCtx(() => [_createElementVNode(\"div\", _hoisted_14, [_createVNode(_component_el_badge, {\n            \"is-dot\": \"\",\n            hidden: item.haveRead\n          }, {\n            default: _withCtx(() => [_createElementVNode(\"span\", _hoisted_15, _toDisplayString(item.title), 1 /* TEXT */)]),\n            _: 2 /* DYNAMIC */\n          }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"hidden\"]), _createElementVNode(\"span\", _hoisted_16, _toDisplayString(item.messageTime), 1 /* TEXT */)])]),\n          default: _withCtx(() => [_createElementVNode(\"text\", null, _toDisplayString(item.content), 1 /* TEXT */), _createElementVNode(\"span\", _hoisted_17, [_hoisted_18, _createVNode(_component_el_icon, {\n            style: {\n              \"color\": \"#a0cfff\"\n            }\n          }, {\n            default: _withCtx(() => [_createVNode(_component_DArrowRight)]),\n            _: 1 /* STABLE */\n          })])]),\n          _: 2 /* DYNAMIC */\n        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"])]);\n      }), 128 /* KEYED_FRAGMENT */))]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"modelValue\"])]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["_imports_0","_imports_1","style","_createElementVNode","src","id","class","_createBlock","_component_el_container","default","_withCtx","_createVNode","_component_el_header","_hoisted_1","_hoisted_2","_component_el_menu","$setup","activeIndex","mode","ellipsis","onSelect","selectMenu","_component_el_menu_item","index","_createTextVNode","_","_hoisted_3","_hoisted_4","_component_el_popover","placement","width","trigger","content","reference","_component_el_button","type","round","plain","size","_component_a_button","onClick","login","_component_a_modal","open","openLogin","_cache","$event","title","onOk","handleLoginOk","_hoisted_5","_component_el_input","modelValue","my_id","placeholder","prepend","_hoisted_6","my_password","register","openRegister","handleRegisterOk","_hoisted_7","_hoisted_8","my_name","_hoisted_9","_hoisted_10","my_email","_hoisted_11","_hoisted_12","_component_a_avatar","_component_el_badge","value","unReadNum","max","drawer","_hoisted_13","_component_el_main","_component_router_view","_createCommentVNode","_component_el_drawer","direction","_createElementBlock","_Fragment","_renderList","message","item","key","_component_el_card","haveRead","jumpToOrder","orderType","orderId","header","_hoisted_14","hidden","_hoisted_15","_toDisplayString","_hoisted_16","messageTime","_hoisted_17","_hoisted_18","_component_el_icon","_component_DArrowRight"],"sources":["D:\\University\\sophomore\\Software engineering\\werwer_train\\src\\views\\HomeView.vue"],"sourcesContent":["<template>\r\n  <el-container class=\"home-container\">\r\n    <el-header\r\n      style=\"display: flex; align-items: center; justify-content: space-between\"\r\n    >\r\n      <div style=\"display: flex; align-items: center\">\r\n        <img\r\n          src=\"../assets/logo2.png\"\r\n          style=\"width: 100px; height: 55px; margin-top: 3%\"\r\n        />\r\n        <el-menu\r\n          :default-active=\"activeIndex\"\r\n          class=\"menu\"\r\n          mode=\"horizontal\"\r\n          :ellipsis=\"false\"\r\n          @select=\"selectMenu\"\r\n          style=\"color: black; margin-top: 2%\"\r\n        >\r\n          <el-menu-item\r\n            index=\"1\"\r\n            style=\"color: black; font-weight: bold; font-size: 17px\"\r\n            >火车订票</el-menu-item\r\n          >\r\n          <el-menu-item\r\n            index=\"2\"\r\n            style=\"color: black; font-weight: bold; font-size: 17px\"\r\n            >酒店预订</el-menu-item\r\n          >\r\n          <el-menu-item\r\n            index=\"3\"\r\n            style=\"color: black; font-weight: bold; font-size: 17px\"\r\n            >火车订餐</el-menu-item\r\n          >\r\n          <el-menu-item\r\n            index=\"4\"\r\n            style=\"color: black; font-weight: bold; font-size: 17px\"\r\n            >我的</el-menu-item\r\n          >\r\n        </el-menu>\r\n      </div>\r\n      <div style=\"display: flex; align-items: center;\">\r\n        <div style=\"display: flex; align-items: center;\">\r\n        <el-popover\r\n          placement=\"bottom\"\r\n          :width=\"200\"\r\n          trigger=\"click\"\r\n          content=\"this is content, this is content, this is content\"\r\n        >\r\n          <template #reference >\r\n            <el-button id=\"loginButton\" type=\"primary\" round plain size=\"large\" style=\"margin-top:12%;margin-right:3%;\" class=\"log\">登录/注册</el-button>\r\n            \r\n          </template>\r\n          <div>\r\n            <a-button @click=\"login\" style=\"width:170px;\">\r\n              登录\r\n            </a-button>\r\n            <a-modal v-model:open=\"openLogin\" title=\"登陆\" @ok=\"handleLoginOk\">\r\n              <div style=\"margin-top:20px;\">\r\n                <el-input\r\n                  v-model=\"my_id\"\r\n                  style=\"max-width: 600px\"\r\n                  placeholder=\"输入身份证号\"\r\n                >\r\n                  <template #prepend>ID号</template>\r\n                </el-input>\r\n              </div>\r\n              <div style=\"margin-top:20px;\">\r\n                <el-input\r\n                  v-model=\"my_password\"\r\n                  style=\"max-width: 600px\"\r\n                  placeholder=\"输入密码\"\r\n                >\r\n                  <template #prepend>密码</template>\r\n                </el-input>\r\n              </div>\r\n            </a-modal>\r\n\r\n          </div>\r\n          <div>\r\n            <a-button @click=\"register\" style=\"width:170px;margin-top:10px;\">\r\n              注册\r\n            </a-button>\r\n            <a-modal v-model:open=\"openRegister\" title=\"注册\" @ok=\"handleRegisterOk\">\r\n              <div style=\"margin-top:20px;\">\r\n                <el-input\r\n                  v-model=\"my_id\"\r\n                  style=\"max-width: 600px\"\r\n                  placeholder=\"输入身份证号\"\r\n                >\r\n                  <template #prepend>ID号</template>\r\n                </el-input>\r\n              </div>\r\n              <div style=\"margin-top:20px;\">\r\n                <el-input\r\n                  v-model=\"my_name\"\r\n                  style=\"max-width: 600px\"\r\n                  placeholder=\"输入姓名\"\r\n                >\r\n                  <template #prepend>姓名</template>\r\n                </el-input>\r\n              </div>\r\n              <div style=\"margin-top:20px;\">\r\n                <el-input\r\n                  v-model=\"my_password\"\r\n                  style=\"max-width: 600px\"\r\n                  placeholder=\"输入密码\"\r\n                >\r\n                  <template #prepend>密码</template>\r\n                </el-input>\r\n              </div>\r\n              <div style=\"margin-top:20px;\">\r\n                <el-input\r\n                  v-model=\"my_email\"\r\n                  style=\"max-width: 600px\"\r\n                  placeholder=\"输入邮箱\"\r\n                >\r\n                  <template #prepend>邮箱</template>\r\n                </el-input>\r\n              </div>\r\n            </a-modal>\r\n          </div>\r\n        </el-popover>\r\n        <div id=\"loggedInMessage\" style=\"display:none\">\r\n              <div style=\"marigin-top:30px;\">\r\n              \r\n                <a-avatar style=\"margin-top:10px;margin-right:20px;\" size=\"large\" :src=\"'https://m.elongstatic.com/hotel_pc_i18n/product/_nuxt/userHead.0-0-3-213881db..svg'\" />\r\n\r\n              </div>\r\n        </div>\r\n        <el-badge\r\n          :value=\"unReadNum\"\r\n          :show-zero=\"false\"\r\n          :max=\"10\"\r\n          style=\"margin-top: 8%; margin-right: 1em\"\r\n        >\r\n        <img src=\"../assets/message.png\" style=\"width: 50px; height: 50px;\" @click=\"drawer = true\" /> </el-badge>\r\n      </div>\r\n      </div>\r\n    </el-header>\r\n    <div class=\"main\">\r\n      <el-main width=\"80%\" style=\"height: 90vh\">\r\n        <router-view />\r\n      </el-main>\r\n    </div>\r\n\r\n    <!-- 弹出消息栏 -->\r\n    <el-drawer v-model=\"drawer\" title=\"消息\" direction=\"rtl\" size=\"35%\">\r\n      <div v-for=\"(item, index) in message\" :key=\"index\">\r\n        <el-card\r\n          style=\"border-radius: 15px; margin-bottom: 5%\"\r\n          @click=\"\r\n            item.haveRead = true;\r\n            jumpToOrder(item.orderType, item.orderId);\r\n          \"\r\n        >\r\n          <template #header>\r\n            <div style=\"display: flex; justify-content: space-between\">\r\n              <el-badge is-dot :hidden=\"item.haveRead\">\r\n                <span style=\"margin-top: 0.3em; margin-right: 0.3em\">\r\n                  {{ item.title }}\r\n                </span>\r\n              </el-badge>\r\n              <span style=\"color: #dedfe0\">{{ item.messageTime }}</span>\r\n            </div>\r\n          </template>\r\n          <text>{{ item.content }}</text>\r\n          <span style=\"vertical-align: middle; text-align: center\">\r\n            <text style=\"color: #a0cfff\">查看详细信息</text>\r\n            <el-icon style=\"color: #a0cfff\"><DArrowRight /></el-icon>\r\n          </span>\r\n        </el-card>\r\n      </div>\r\n    </el-drawer>\r\n  </el-container>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted, computed,inject } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport eventBus from \"@/eventBus.js\";\r\nimport { getMessage } from \"@/api/api.js\";\r\nconst router = useRouter();\r\nconst activeIndex = ref(\"1\");\r\nconst drawer = ref(false);\r\nconst selectMenu = (key) => {\r\n  console.log(\"当前选中为\" + key);\r\n  activeIndex.value = key;\r\n  eventBus.MyOrdersActiveKey = \"1\";\r\n  if (activeIndex.value === \"1\") {\r\n    router.push(\"/home/ticket\");\r\n  } else if (activeIndex.value === \"2\") {\r\n    router.push(\"/home/hotel\");\r\n  } else if (activeIndex.value === \"3\") {\r\n    router.push(\"/home/dining\");\r\n  } else if (activeIndex.value === \"4\") {\r\n    router.push(\"/home/orders\");\r\n  }\r\n};\r\n// const message = ref([\r\n//   {\r\n//     title: \"车票提醒\",\r\n//     messageTime: \"2020-03-10\",\r\n//     content:\r\n//       \"您已购买2024-05-09 G5车次 杭州--->北京车次，发车时间05月09日08:00。请合理安排出行时间。\",\r\n//     haveRead: true,\r\n//     orderType:\"3\",\r\n//     orderId: \"string3\",\r\n//   },\r\n//   {\r\n//     title: \"订单取消\",\r\n//     messageTime: \"2024-09-12\",\r\n//     content: \"您已下单2024-10-20 G81车次 午餐餐品。将由列车员送到座位上。\",\r\n//     haveRead: false,\r\n//     orderType:\"5\",\r\n//     orderId: \"string4\",\r\n//   },\r\n// ]);\r\nconst message = ref([]);\r\nconst userID = \"0000\";\r\nconst unReadNum = computed(() => {\r\n  return message.value.filter((msg) => !msg.haveRead).length;\r\n});\r\n\r\n//登陆\r\n//登陆\r\nimport { postLogin } from \"@/api/api\"\r\nconst openLogin = ref(false);\r\nconst my_id = ref('');\r\nconst my_password = ref('');\r\n\r\nconst login = () => {\r\n  openLogin.value = true;\r\n};\r\n\r\nconst handleLoginOk = (e) => {\r\n  console.log(e);\r\n  if (my_id.value === \"\" || my_password.value === \"\") {\r\n    ElMessage({\r\n      message: \"还有没填写的信息\",\r\n      type: \"error\",\r\n      plain: true,\r\n    });\r\n  } else {\r\n    postmyLogin();\r\n  }\r\n  openLogin.value = false;\r\n};\r\nconst postmyLogin = async () =>{\r\n  try{\r\n    const response = await postLogin(my_id,my_password);\r\n    if(response.data.result){\r\n      ElMessage({\r\n        message: \"登陆成功\",\r\n        type: \"success\",\r\n      });\r\n      localstorage.setItem('user_id',my_id);\r\n      localStorage.setItem('isLoggedIn',true);\r\n      localstorage.setItem('email',response.data.email);\r\n      localStorage.setItem('password',my_password);\r\n      localStorage.setItem('name',response.data.name);\r\n      updateUI();\r\n      //重新加载页面\r\n      window.location.href = window.location.href;\r\n    }else{\r\n      ElMessage.error(\"登陆失败:用户ID或密码错误\");\r\n    }\r\n  }catch (error) {\r\n    console.error(\"登陆失败:\", error);\r\n  }\r\n}\r\n\r\n\r\n\r\n//注册\r\nconst my_email = ref('');\r\nconst my_name = ref('');\r\n\r\nimport { postRegister } from \"@/api/api\"\r\nconst openRegister = ref(false);\r\n\r\nconst register = () => {\r\n  openRegister.value = true;\r\n};\r\n\r\nconst postmyRegister = async () =>{\r\n  try{\r\n    const response = await postRegister(my_id, my_name, my_password,my_email);\r\n    if(response.data.result){\r\n      ElMessage({\r\n        message: \"注册成功\",\r\n        type: \"success\",\r\n      });\r\n      localStorage.setItem('user_id',my_id);\r\n      localStorage.setItem('isLoggedIn',true);\r\n      localStorage.setItem('email',my_email);\r\n      localStorage.setItem('password',my_password);\r\n      localStorage.setItem('name',my_name);\r\n      updateUI();\r\n      \r\n      //重新加载页面\r\n      window.location.href = window.location.href;\r\n    }else{\r\n      ElMessage.error(\"注册失败:\"+response.data.reason);\r\n    }\r\n  }catch (error) {\r\n    console.error(\"注册失败:\", error);\r\n  }\r\n}\r\n\r\nconst handleRegisterOk = (e) => {\r\n  console.log(e);\r\n  if (my_id.value === \"\" || my_password.value === \"\" || my_email.value === \"\" || my_name === \"\") {\r\n    ElMessage({\r\n      message: \"还有没填写的信息\",\r\n      type: \"error\",\r\n      plain: true,\r\n    });\r\n  } else {\r\n    postmyRegister();\r\n  }\r\n  openRegister.value = false;\r\n};\r\n\r\n\r\n// 页面加载完成时执行\r\ndocument.addEventListener('DOMContentLoaded', function() {\r\n  // 更新页面元素的显示状态\r\n  updateUI();\r\n});\r\n\r\n// 更新页面元素显示状态的函数\r\nfunction updateUI() {\r\n  var isLoggedIn = localStorage.getItem('isLoggedIn');\r\n  \r\n  \r\n  // 根据 isLoggedIn 的值更新页面元素显示状态\r\n  if (isLoggedIn === 'true') {\r\n    document.getElementById('loginButton').style.display = 'none'; // 隐藏登录按钮\r\n    document.getElementById('loggedInMessage').style.display = 'block'; // 显示已登录的消息\r\n  } else {\r\n    document.getElementById('loginButton').style.display = 'block'; // 显示登录按钮\r\n    document.getElementById('loggedInMessage').style.display = 'none'; // 隐藏已登录的消息\r\n  }\r\n}\r\n\r\nonMounted(() => {\r\n  router.push(\"/home/ticket\");\r\n  getAllMessage();\r\n});\r\nconst getAllMessage = async () => {\r\n  //TODO 判断是否登录\r\n  try {\r\n    const responce = await getMessage(userID);\r\n    message.value = responce.data.result;\r\n  } catch (error) {\r\n    console.log(\"获取消息失败\", error);\r\n  }\r\n};\r\nconst jumpToOrder = (orderType, orderId) => {\r\n  eventBus.HeaderKey = \"4\";\r\n  activeIndex.value = \"4\";\r\n  //TODO 依据不同情况修改\r\n  eventBus.MyOrdersActiveKey = orderType;\r\n  if (orderType === \"3\") {\r\n    router.push(\"/home/orders/ticketOrders\");\r\n    router.push({\r\n      path: \"/home/orders/ticketOrders\",\r\n      query: { orderId: orderId },\r\n    });\r\n  } else if (orderType === \"4\") {\r\n    router.push({\r\n      path: \"/home/orders/hotelOrders\",\r\n      query: { orderId: orderId },\r\n    });\r\n  } else if (orderType === \"5\") {\r\n    router.push({\r\n      path: \"/home/orders/foodOrders\",\r\n      query: { orderId: orderId },\r\n    });\r\n  }\r\n};\r\nsetInterval(getAllMessage,1000);\r\n</script>\r\n\r\n<style>\r\n.home-container {\r\n  width: 100%;\r\n  height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.el-header {\r\n  height: 60px;\r\n}\r\n\r\n* {\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n\r\n.main {\r\n  flex: 1;\r\n  display: flex;\r\n  align-items: stretch;\r\n}\r\n\r\n.header-content {\r\n  display: flex;\r\n  align-items: center;\r\n  padding-top: 8px;\r\n}\r\n\r\n.title {\r\n  align-self: center;\r\n  margin-right: auto;\r\n}\r\n\r\n.menu {\r\n  margin-left: 10%;\r\n}\r\n\r\n.menu-change {\r\n  height: 100%;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}